
[import "xml"]
[import "test"]

[TestEq "XML...." CATALOG *x [xml "plant_catalog.xml" sonda : *x]]

[TestEq "Plant 7" ".i" *x [xml_node sonda CATALOG PLANT *plant] [*plant ID 7] [*plant NAME *x]]
[TestEq "Plant 6" ["Ginger, Wild" 9.03] [*x *y] [xml_node sonda CATALOG PLANT *plant] [*plant ID 6] [*plant NAME *x] [*plant PRICE *y]]
[TestEq "Plant 2" [Columbine 9.37] [*name *price] [xml_node sonda CATALOG PLANT *plant] [*plant ID 2] [*plant NAME *name] [*plant PRICE *price]]

;[list sonda]
;[nl] [nl]
;[res [sonda CATALOG *x] [*x PLANT *y] [*y BOTANICAL *name] [list *y] [list *name]]
;[nl] [nl]
;[list "user!"]

;[nl] [nl]
;[ALL [xml_node sonda CATALOG PLANT *plant] [*plant ID 6] [*plant PRICE *price] [not is_atom *price] [xml_text *plant COMMON *name] [show [*id *price *name]] fail]
;[ALL [xml_text sonda CATALOG PLANT COMMON *name] [show *name] fail]

[exit]
